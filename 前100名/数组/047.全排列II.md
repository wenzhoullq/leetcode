### 题目

给定一个可包含重复数字的序列 `nums` ，**按任意顺序** 返回所有不重复的全排列。

### 思路

回溯，主要难点是去重

```java
class Solution {
    List<List<Integer>> ans=new LinkedList<List<Integer>>();
    LinkedList<Integer> temp=new LinkedList<>();
    int[] nums,visit;
    void flashback(int count){
        if(count==nums.length) {
            ans.add(new LinkedList<Integer>(temp));
            return ;
        }
        for(int i=0;i<nums.length;i++){
            if(visit[i]==1||(i>0&&nums[i-1]==nums[i]&&visit[i-1]==0)) continue;//这里的去重需要仔细研究，比如说1（A）1（B），访问时候如果1（B）访问的时候先惯出1（A）有没有访问，那么这种肯定重复了，需要去重
            temp.add(nums[i]);
            visit[i]=1;
            flashback(count+1);
            temp.removeLast();
            visit[i]=0;
        }
    }
    public List<List<Integer>> permuteUnique(int[] nums) {
        Arrays.sort(nums);
        this.nums=nums;
        visit=new int[nums.length];
        flashback(0);
        return ans;
    }
}
```

