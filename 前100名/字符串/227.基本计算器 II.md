## 题目
给你一个字符串表达式 s ，请你实现一个基本计算器来计算并返回它的值。
整数除法仅保留整数部分。
## 思路
双栈，一边遍历一边计算，在字符串的尾部加上#作为标志符防止边界问题
```java
class Solution {
    int cal(int num1,int num2,char c){
        if(c=='+') return num1+num2;
        else if(c=='-') return num1-num2;
        else if(c=='*') return num1*num2;
        else return num1/num2;
    }
    public int calculate(String s) {
        Stack<Character> s1=new Stack<>();
        Stack<Integer> s2=new Stack<>();
        HashMap<Character,Integer> m=new HashMap<>();
        m.put('#',0);
        m.put('+',1);
        m.put('-',1);
        m.put('*',2);
        m.put('/',2);
        s+="#";
        char[] str=s.toCharArray();
        int num=0;
        for(int i=0;i<str.length;i++){
            if(str[i]==' ') continue;
            if(Character.isDigit(str[i])){
                num=num*10+str[i]-'0';
                continue;
            }
            s2.push(num);
            while(!s1.isEmpty()&&m.get(str[i])-m.get(s1.peek())<=0) {
                char temp=s1.pop();
                int num2=s2.pop(),num1=s2.pop();
                s2.push(cal(num1,num2,temp));
            }
            s1.push(str[i]);
            num=0;
        }
        return s2.pop();
    }
}
```
