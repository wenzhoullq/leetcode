## 题目
给你一个字符串表达式 s ，请你实现一个基本计算器来计算并返回它的值。
整数除法仅保留整数部分。
## 思路
双栈,细节在备注
* 法一

```java
class Solution {
    Stack<Integer> nums=new Stack<>();
    Stack<Character> op=new Stack<>();
    String s;
    void cal(){
        int num2=nums.pop(),num1=nums.pop(),num=0;
        char c=op.pop();
        if(c=='+') num=num1+num2;
        else if(c=='-')  num=num1-num2;
        else if(c=='*') num=num1*num2;
        else num=num1/num2;
        nums.push(num);
        }
    public int calculate(String s) {
        s=s.trim();
        HashMap<Character,Integer> m=new HashMap<>();
        m.put('+',1);
        m.put('-',1);
        m.put('*',2);
        m.put('/',2);
        s=0+s;//防止首位是负数
        this.s=s;
        int count=0;
        for(int i=0;i<s.length();i++){
            char c=s.charAt(i);
            if(Character.isDigit(c)){
                count=count*10+c-'0';
            }
            else if(c==' ') continue;
            else{
                nums.push(count);
                count=0;
                while(!op.isEmpty()&&m.get(op.peek())>=m.get(c)) cal();//while循环多重处理
                op.push(c);
            }
        }
        nums.push(count);//边缘数代入
        while(!op.isEmpty()) cal();//计算剩余的
        return nums.pop();
    }
}
```
* 法二
末尾增加标志位
```java
class Solution {
    Stack<Integer> nums=new Stack<>();
    Stack<Character> op=new Stack<>();
    String s;
    void cal(){
        int num2=nums.pop(),num1=nums.pop(),num=0;
        char c=op.pop();
        if(c=='+') num=num1+num2;
        else if(c=='-')  num=num1-num2;
        else if(c=='*') num=num1*num2;
        else num=num1/num2;
        nums.push(num);
        }
    public int calculate(String s) {
        s=s.trim();
        HashMap<Character,Integer> m=new HashMap<>();
        m.put('#',0);
        m.put('+',1);
        m.put('-',1);
        m.put('*',2);
        m.put('/',2);
        s=0+s+"#";
        this.s=s;
        int count=0;
        for(int i=0;i<s.length();i++){
            char c=s.charAt(i);
            if(Character.isDigit(c)){
                count=count*10+c-'0';
            }
            else if(c==' ') continue;
            else{
                nums.push(count);
                count=0;
                while(!op.isEmpty()&&m.get(op.peek())>=m.get(c)) cal();
                op.push(c);
            }
        }
        return nums.pop();
    }
}
```
