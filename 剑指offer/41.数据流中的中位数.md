## 题目

如何得到一个数据流中的中位数？如果从数据流中读出奇数个数值，那么中位数就是所有数值排序之后位于中间的数值。如果从数据流中读出偶数个数值，那么中位数就是所有数值排序之后中间两个数的平均值。

## 思路

经典求中位数，就是建立一个大根堆和小根堆，大根堆用来存比较小的部分（这样对顶就是中位数那部分），小根堆用来存较大部分，其他细节见代码

```java
class MedianFinder {

    /** initialize your data structure here. */
    Queue<Integer> min,max;
    public MedianFinder() {
        min=PriorityQueue<Integer>();//小根堆，记录较大部分
        max=PriorityQueue<Integer>((x,y)->y-x);//大根堆，记录较小部分
    }
    
    public void addNum(int num) {
        if(min.size()!=max.size()){
            min.add(num);//先加入小根堆，保证堆顶是最小的元素
            max.add(min.poll());//讲加入最小的元素加入大根堆
        }
        else {
            max.add(num);
            min.add(max.poll());
        }
    }
    
    public double findMedian() {
        if(min.size()==0) return 0.0;
        return min.size()!=max.size()?max.peek():(max.peek()+min.peek())/2.0;
    }
}

```

